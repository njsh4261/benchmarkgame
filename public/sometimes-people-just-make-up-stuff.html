<!DOCTYPE html>
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="robots" content="index,follow,archive">
<meta name="description" content="Trust, and verify. Sometimes people just make up stuff because the facts don't fit the story they want to tell you.">
<title>A History | Computer Language Benchmarks Game</title>
<link href="https://benchmarksgame-team.pages.debian.net/benchmarksgame/sometimes-people-just-make-up-stuff.html" rel="canonical">
<link rel="shortcut icon" href="./darkfavicon.ico">
<style><!-- 
a{color:black;text-decoration:none}article,footer,header{margin:auto;max-width:31em;width:92%}body{font:100% Droid Sans,Ubuntu,Verdana,sans-serif;margin:0;-webkit-text-size-adjust:100%}h3,h1,h2,table{font-family:Ubuntu Mono,Consolas,Menlo,monospace}footer{padding:2.6em 0 0}h3{font-size:1.4em;font-weight:700;margin:0;padding:.4em}h3,h3 a{color:white;background-color:#2c001e}h3 small{font-size:.64em}h1,h2{margin:1.5em 0 0}h1{font-size:1.4em;font-weight:400}h2{font-size:1.2em}nav li{list-style-type:none;vertical-align:top}p{color:#333;line-height:1.4;margin:.3em 0 0}.external{border-bottom:.1em dashed #333}p a{border-bottom:.1em solid #333;padding-bottom:.1em}.message{font-size: .8em}@media only screen{th:nth-child(4),td:nth-child(4){display:none}}@media only screen and (min-width:33em){th:nth-child(4),td:nth-child(4){display:table-cell}}blockquote{margin-top: .3em}blockquote p{display:inline}blockquote:before,q:before{content:open-quote}blockquote:after,q:after{content:close-quote}body{quotes:'\201C''\201D''\2018''\2019''\2039''\203A'}table{font-family:Menlo,Consolas,Ubuntu Monospace,Andale Mono,monospace;margin:.7em 0;text-align:right}td{border-bottom:.15em dotted #eee;padding:.7em .7em 0 0}td:first-child,th:first-child{text-align:left}th{font-weight:400;padding:0 .7em 0 0;text-align:left}@media only screen and (min-width:60em){article,footer,header{font-size:1.25em}}
--></style>
<header>
  <h3><a href="https://benchmarksgame-team.pages.debian.net/benchmarksgame/index.html">The&nbsp;<small>Computer&nbsp;Language</small><br>Benchmarks&nbsp;Game</a></h3>
</header>
<article>
  <h1 id="history">A History</h1>
  <section>
    <h2 id="once-upon-a-time">Once upon a time&hellip;</h2>
    <p>Doug Bagley had a burst of crazy curiosity: <q><a class="external" href="https://web.archive.org/web/20010124090400/http://www.bagley.org/~doug/shootout/">When I started this project</a>, my goal was to compare all the major scripting languages. Then I started adding in some compiled languages for comparison&hellip;</q> 
    <p>That project was abandoned in 2002, restarted in 2004 by Brent Fulgham, continued from 2008 by Isaac Gouy, and interrupted in 2018 by the Debian Alioth hosting service EOL. Everything has changed; several times.
    <p>April 2017 through March 2018, Google Analytics saw 477,419 users.
    <p>Enough that many web search results show web spam and phishing - be careful!
  </section>
  <h1 id="verify">Dismiss, Distract</h1>
  <section>
    <h2></h2>
    <p>You will probably come across stuff that people have said about the benchmarks game. Did they show that what they claim is true? If they provided a URL, does the content actually confirm what they said?
    <p>Perhaps they were genuinely mistaken. Perhaps the content changed.
  </section>
  <section>
    <h2 id="heard-wrong"><q>I heard that one is pretty bad&hellip;</q></h2>
    <p>Perhaps they heard wrong.
  </section>
  <section>
    <h2 id="you-cant-have-your-cake-and-eat-it-too"><q>&hellip; neither scientific nor indicative of expected performance&hellip;</q></h2>
    <p><em><q>&hellip; That having been said &hellip; on the current benchmarks, Rust already outperforms C++, which is a pretty big deal&hellip;</q></em>
    <p>No, we have to choose — 
    <p>- either we accept the "neither scientific nor indicative" dismissal and don't even consider "a pretty big deal";
    <p>- or we reject the "neither scientific nor indicative" dismissal and consider "a pretty big deal".
    <p>(What "scientific" is supposed to mean in this context is unexplained; it seems just to be used as a dismissal).
  </section>
  <section>
    <h2 id="benchmarks-are-a-crock"><q>&hellip; nor indicative of expected performance on real-world idiomatic code.</q></h2>
    <p>We've certainly not attempted to prove that these measurements, of a few tiny programs, are somehow representative of the performance of any real-world applications — <a class="external" href="http://www.larcenists.org/Twobit/bmcrock.temp.html"><em>not known</em></a>.
    <p>(Why we should only care about "idiomatic code" is unexplained; it seems just to be used as a dismissal). 
  </section>
  <section>
    <h2 id="name-game"><q>There's a reason they call it <q>a game</q>&hellip;</q></h2>
    <p>Wrong!
    <p>The name "benchmarks game" is <b>just a name</b>.
  </section>
  <section>
    <h2 id="dispute"><q>&hellip;to dispute a decision you basically need to pray the maintainer reopens it for some reason.</q></h2>
    <p>Never true. Followup comments could always be made in the project ticket tracker. There was a public discussion forum, etc. etc.
    <p>Someone's <q>brilliant hack</q> was rejected. Someone saw the opportunity to push traffic to their personal blog.
  </section>
  <section>
    <h2 id="maintenance-burden"><q>The guy that runs it arbitrarily decided to stop tracking some languages he didn't care about&hellip;</q></h2>
    <p>Measurements are no longer made for these —
    <p>ATS, FreeBASIC, CINT, Cyclone, Tiny C, Mono C#, Mono F#, Intel C++, Clang++, CAL, Clean, Clojure, Digital Mars D, GNU D, Gwydion Dylan, SmartEiffel, bigForth, GNU GForth, Groovy, Hack, Icon, Io, Java -client, Java -Xint, gcj Java, Substrate VM, Rhino JavaScript, SpiderMonkey, TraceMonkey, Lisaac, LuaJIT, Mercury, Mozart/Oz, Nice, Oberon-2, Objective-C, Pike, SWI Prolog, YAP Prolog, IronPython, PyPy, Rebol, Rexx, Scala, Bigloo Scheme, Chicken Scheme, Ikarus Scheme, GNU Smalltalk, Squeak Smalltalk, Mlton SML, SML/NJ, Tcl, Truffle, Zonnon.
    <p>(The guy that runs it arbitrarily decided to <b>start</b> tracking those languages he supposedly didn't care about.)
    <p>Like everyone else, I'm sitting on my hands waiting for someone else to make and publish all the other program measurements.
    <p>I know it will take more time than I choose. Been there; done that.
  </section>
  <h1 id="curious">Be curious</h1>
  <section>
    <h2 id="jvm-startup-time"><q>Wtf kind of benchmark counts the jvm startup time?</q></h2>
    <p>How much difference does it make <em>for these</em> tiny programs?
    <p>Let's compare our <a href="https://benchmarksgame-team.pages.debian.net/benchmarksgame/how-programs-are-measured.html#measured">fastest-of-6</a> <em>no warmup</em> measurements against the fastest-of-25 (or 55 or 175) <em>with warmup</em> <a class="external" href="https://openjdk.java.net/projects/code-tools/jmh/">JMH SampleTime p(0.0000) </a> measurements:
    <table>
      <tr>
        <th colspan="2">java 14.0.1
        <th><span class="message">SampleTime</span>        
      <tr>
        <th>i5-3330
        <th><span class="message">No Warmup</span>
        <th><span class="message"><strong>With Warmup</strong></span>
      <tr>
        <td><span class="message">fannkuch-redux #3</span> 
        <td>39.939
        <td>39.460   
      <tr>          
        <td><span class="message">fannkuch-redux #1</span> 
        <td>10.614
        <td>11.442      
      <tr>          
        <td><span class="message">n-body #1</span> 
        <td>7.704
        <td>7.608          
      <tr>          
        <td><span class="message">n-body #4</span> 
        <td>6.742
        <td>6.644    
      <tr>          
        <td><span class="message">spectral-norm #1</span> 
        <td>7.574
        <td>8.171    
      <tr>          
        <td><span class="message">spectral-norm #2</span> 
        <td>1.679
        <td>1.537
      <tr>          
        <td><span class="message">spectral-norm #3</span> 
        <td>1.578
        <td>1.432     
      <tr>
        <th colspan="3">&nbsp; 

      <tr>
        <th><span class="message">JMH @Fork(value=55)</span> 
        <th colspan="2"><span class="message">SingleShotTime</span>   
        <th>
      <tr>          
        <td><span class="message">spectral-norm #3</span> 
        <td>1.495
        <td>                          
    </table>
    <p><em>otoh</em> JVM start-up, JIT, OSR&hellip; are quickly effective and these <em>no warmup / with warmup</em> comparisons show miniscule difference.
    <p><em>otoh</em> For measurements of a few tenths of a second, a few tenths of a second is a huge difference.
    <p>(<q>In stark contrast to the traditional expectation of <q>warmup</q>, some benchmarks exhibit <a class="external" href="https://tratt.net/laurie/blog/entries/why_arent_more_users_more_happy_with_our_vms_part_1.html"><q>slowdown</q></a>, where the performance of in-process iterations drops over time.</q>)
  </section>
  
  <section>
    <h2 id="pre-2007-cpu"><q>The benchmarks game benchmarks your code&hellip; apparently on a pre-2007 CPU?</q></h2>
    <p>How much difference might it make for tiny programs?
    <p>Let's compare normalized published times of some Havlak programs made on a 2019 i7-10710U, with normalized times of the same programs made on a 2007 Q6600.
    <table>
      <tr>
        <th>Havlak
        <th>i7-10710U        
        <th>i5-3330
        <th>Q6600          
        <th>&nbsp;       
      <tr>
        <th>programs
        <th>Q3'2019
        <th>Q3'2012
        <th>Q1'2007     
        <th>&nbsp;
      <tr>
        <td><span class="message">GCC C++</span> 
        <td>1.000
        <td>1.000        
        <td>1.000
        <td>&nbsp;
      <tr>
        <td><span class="message">Go</span> 
        <td>1.263         
        <td>1.358        
        <td>1.482
        <td>&nbsp;
      <tr>
        <td><span class="message">C# .NET Core</span> 
        <td>2.349
        <td>2.380        
        <td><span class="message"><strong>1.368</strong></span> 
        <td>3.039
      <tr>
        <td><span class="message">CPython</span> 
        <td>7.079        
        <td>7.610         
        <td>9.258
        <td>&nbsp;           
    </table>    
    <p>Look at the <em>anomaly</em> ! On the newer hardware the Go program was faster than the C# program; on the older hardware the C# program was faster than the Go program! 
    <p>Except that the <em>anomaly</em> was caused by a difference in .NET Core settings: not a difference in hardware.
    <p>The benchmarks game uses <a class="external" href="https://docs.microsoft.com/en-us/dotnet/core/run-time-config/garbage-collector#systemgcservercomplus_gcserver">Server GC</a>, the other published times were made using Workstation GC. When we also use Workstation GC on the older hardware, the normalized time - 3.039 - falls into line.
    <p>(In spite of this example, we should expect increasing use of new instruction sets will cause changes in the relative performance of programs, on older and newer hardware.)
  </section>    
  <section>
    <h2 id="apples-and-oranges">Apples and Oranges</h2>
    <p>We compare programs against each other, as though the different programming languages had been designed for the exact same purpose — that just isn't so.<br><br>
    <blockquote><p>The problems introduced by multicore processors, networked systems, massive computation clusters, and the web programming model were being worked around rather than addressed head-on. Moreover, the scale has changed: today's server programs comprise tens of millions of lines of code, are worked on by hundreds or even thousands of programmers, and are updated literally every day. To make matters worse, build times, even on large compilation clusters, have stretched to many minutes, even hours.
<a class="external" href="https://talks.golang.org/2012/splash.article">Go was designed and developed to make working in this environment more productive</a>.</blockquote>
    <blockquote><p>Most (all?) large systems developed using Erlang make heavy <a class="external" href="http://erlang.org/faq/introduction.html#idp32114576">use of C for low-level code</a>, leaving Erlang to manage the parts which tend to be complex in other languages, like controlling systems spread across several machines and implementing complex protocol logic.</blockquote>
    <blockquote><p>Lua is a tiny and simple language, partly because it does not try to do what C is already good for, such as sheer performance, low-level operations, or interface with third-party  software. <a class="external" href="http://www.inf.puc-rio.br/~roberto/book/">Lua relies on C for those tasks</a>.</blockquote>
  </section>
  <section>
  <h1 id="starting-point"><q>a good starting point</q></h1>
    <h2></h2>
    <blockquote cite="http://algs4.cs.princeton.edu/faq/"><p>How does Java compare in terms of speed to C or C++ or C# or Python? The answer depends greatly on the type of application you're running. No benchmark is perfect, but The Computer Language Benchmarks Game is a good <b>starting point</b>.</blockquote>
    <p>Back in April 2010, Russ Cox charitably suggested that <em>only</em> fannkuch-redux, fasta, k-nucleotide, mandlebrot, nbody, reverse-complement and spectral-norm were close to <em>fair</em> comparisons. (As someone who implemented programming languages, his interest was "measuring the quality of the generated code when both compilers are presented with what amounts to the same program.")
    <p>Differences in approach - to memory management, parallel programming, regex, arbitrary precision arithmetic, implementation technique - don't fit in that kind-of <em>fair</em> comparison — but are part and parcel of using programming languages. 
    <p>So we accept something intermediate between chaos and rigidity — enough flex & slop & play to allow for Haskell programs that are not just mechanically translated from Fortran; enough similarity in the basic workloads & tested results.
    <p>We both accept PCRE and GMP and &hellip; library code; and refuse custom memory pool and hash table implementations.
    <h2 id="make-things"><q>The best way to complain is to make things.</q></h2>
    <p>Perhaps you would make different library choices? Perhaps you would include different programming language implementations? Perhaps you would make measurements on new computers?
    <p><strong>Please do!</strong> Please use <a class="external" href="https://github.com/tobami/codespeed/">codespeed</a> or <a class="external" href="https://github.com/sharkdp/hyperfine">hyperfine</a> or take the <a href="https://salsa.debian.org/benchmarksgame-team/benchmarksgame/blob/master/README.md">measurement scripts</a> we use and start making the kind-of measurements you would like to see.
  </section>
</article>
<footer>
  <nav>
    <ul>
      <li>&nbsp;
    </ul>
  </nav>
</footer>
